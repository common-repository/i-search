(function(s){'use strict';'function'==typeof define&&define.amd?define(['jquery'],s):s(jQuery)})(function(s){'use strict';function o(l,r){let d=function(){},u=this,c={appendTo:'body',atc_btn:!1,atc_label:'add to cart',autoSelectFirst:!1,containerClass:'isrc_autocomplete-suggestions',currentRequest:null,customOrder:!1,dataType:'json',deferRequestBy:100,delimiter:null,diduMeanEnabled:!1,diduMeanLabel:'Did you mean',enable_console:!0,forceFixPosition:!0,formatResult:o.formatResult,haveSubmitBtn:!1,isPreview:!1,isTabbed:!1,lookup:null,maxHeight:450,minChars:1,noCache:!1,noResultsEnabled:!1,noSuggestionNotice:'No results',onSelect:null,continuousScroll:!0,orientation:'auto',paramName:'query',params:{},popularLabel:'No Results. Popular Searches',preventBadQueries:!1,search_in:!1,sendMeanings:!1,sendPopularity:!1,serviceUrl:null,showNoSuggestionNotice:'',suggestionClass:'isrc_autocomplete-suggestion',template:'clean',triggerSelectOnValidInput:!0,type:'POST',width:'auto',zIndex:999,onSearchComplete:d,onSearchError:d,lookupFilter:function(p,g,h){return-1!==p.value.toLowerCase().indexOf(h)}};u.element=l,u.el=s(l),u.wrapper=!1,u.suggestions=[],u.currentTab=!1,u.sugormean='suggestions',u.isMobile=!1,u.limits={},u.meanings=[],u.popularSearches=[],u.scrollPositions={main:0},u.badQueries=[],u.isAjaxingMore=!1,u.ajaxingType='normal',u.selectedIndex=-1,u.selectedIndex2=-1,u.selectedtypekey=!1,u.currentValue=u.element.value,u.lastNotFoundValue='',u.intervalId=0,u.cachedResponse={},u.lastIndexes={},u.lastIndexes2={},u.onChangeInterval=null,u.onChange=null,u.pagination=1,u.isLocal=!1,u.overlayIsVisible=!1,u.totalTabs=[],u.suggestionsContainer=null,u.options=s.extend({},c,r),u.classes={selected:'isrc_autocomplete-selected',suggestion:'isrc_autocomplete-suggestion',nosuggestion:'autocomplete-meaning'},u.hint=null,u.hintValue='',u.selection=null,u.initialize(),u.setOptions(r)}let n=function(){return{escapeRegExChars:function(l){return l=l.replace(/[<>{}()*+?.\\^$|]/g,''),'('+l.replace(/[\-\[\]\/{}()*+?.\\^$|]/g,'\\$&')+')(?![iclick]*(?:[>]))'},createNode:function(l){let r=document.createElement('div');return r.className=l,r.style.display='none',r}}}(),a={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40};o.utils=n,s.IsrcAutocomplete=o,o.formatResult=function(l,r){let d=n.escapeRegExChars(r);return l.value.replace(new RegExp(d,'gi'),'<strong>$1</strong>')},o.prototype={killerFn:null,initialize:function(){let c,p,l=this,r='.'+l.classes.suggestion,d=l.classes.selected,u=l.options,g=u.isPreview,h=u.placeholder,m=u.phAdvert&&!1!==u.phAdverts,f='advanced'===u.template?150:0,y=u.phAdverts;l.element.setAttribute('autocomplete','off'),l.el.attr('placeholder',h),l.suggestionsContainer=o.utils.createNode(u.containerClass),c=s(l.suggestionsContainer),c.appendTo(u.appendTo),'auto'!==u.width&&c.width(u.width),u.isTabbed&&c.on('click.autocomplete','.suggestion-tabs .tab-result',function(){let v=s(this).data('tabid');l.currentTab===v||(l.currentTab=v,c.find('.suggestion-wrap').addClass('isrc_hidesuggestion'),c.find('.suggestion-wrap[data-typekey="'+v+'"]').removeClass('isrc_hidesuggestion'),c.find('.suggestion-tabs .tab-result').removeClass('selected'),s(this).addClass('selected'),l.rebuildScrollPosition(),l.restoreIndexPostition(),l.options.onTabClick(l))}),c.on('mouseover.autocomplete',r,function(){let v=s(this);timeoutId||(timeoutId=window.setTimeout(function(){timeoutId=null,l.selectedIndex!==v.data('index')&&l.activate(v.data('index')),l.options.themeFunctionsMouseOver(l,v)},f))}).on('mouseleave.autocomplete',r,function(){timeoutId&&(window.clearTimeout(timeoutId),timeoutId=null)}),p=c.closest(l.options.wrapperClass),l.wrapper=p,p.on('mouseleave.autocomplete',function(){l.options.themeFunctionsMouseLeave(l,s(this)),c.find('.'+d).removeClass(d)}),c.on('click.autocomplete',r,function(v){0<s(v.target).closest('.isrc_extras.isrc_clickable').length||0<s(v.target).closest('.isrc_atc').length||(l.selectedIndex=s(this).data('index'),l.selectedIndex2=s(this).data('index2'),l.select(l.selectedIndex))}),c.on('click.autocomplete','iclick',function(){let v=s(this).text();v&&l.el.val(v).trigger('change')}),c.on('click.autocomplete','.slctr',function(){l.select(l.selectedIndex)}),p.on('submit','.isrc-ajaxsearchform',function(){return!!(0<l.currentValue.length)}),p.on('click.autocomplete','.isrc-cl-op',function(){l.inputBodyAnim('toggle')});let b=p.find('.isrc_theme_sw_full :input[name="s"]');if(0<b.length&&(b.attr('autocomplete','off'),b.on('focus.autocomplete',function(){l.inputBodyAnim('toggle',!0)})),p.on('click.autocomplete','.isrc-win-close',function(){l.inputBodyAnim('hide')}),p.on('click.autocomplete','.ttag',function(){p.find('input.isrc-s').val(s(this).text()).trigger('change')}),p.on('click','.isrc_delete_btn',function(){l.wrapper.find('.isrc-ajaxsearchform-container').removeClass('isrc-focused'),p.find('input.isrc-s').val('').trigger('change'),l.currentTab=!1}),g&&s(window).on('sh_preloader',function(){l.showHidePreloader('toggle')}),c.on('click.autocomplete','.link-result.isrcviewall',function(v){v.preventDefault();let C=s(this),x=C.data('typekey');l.getContinuousSuggestions(x)}),l.fixPosition(),l.fixPositionCapture=function(){l.visible&&l.fixPosition()},s(window).on('resize.autocomplete',l.fixPositionCapture),l.el.on('keyup.autocomplete',function(v){l.onKeyUp(v),l.scrollPositions={}}),l.el.on('focus.autocomplete',function(){l.wrapper.find('.isrc-ajaxsearchform-container').addClass('isrc-focused'),m&&(l.el.removeClass('advert'),l.el.attr('placeholder',h)),l.onFocus(),l.fixPosition()}),l.el.on('blur.autocomplete',function(){if(m){let v=y[Math.floor(Math.random()*y.length)];l.el.addClass('advert'),l.el.attr('placeholder',v.replace(/\\/g,''))}}),m){let v=y[Math.floor(Math.random()*y.length)];l.el.addClass('advert'),l.el.attr('placeholder',v.replace(/\\/g,''))}l.el.on('change.autocomplete',function(v){l.onKeyUp(v)}),l.el.on('keydown.autocomplete',function(v){l.onKeyPress(v)}),l.adjustSlider(),l.enableKillerFn()},transformResult:function(l){return l='string'==typeof l?s.parseJSON(l):l,l},adjustSlider:function(){let l=this,r=l.wrapper.find('.isrc-slide.isrc-to-right'),d=l.wrapper.find('.isrc-slide.isrc-to-left');if(0<r.length){let u=l.wrapper.find('.isrc-cl-op'),c=u.outerWidth(),p=u.outerHeight(),h=c+5,m=p/2+-1*(r.outerHeight()/2);r.css({left:h,top:m,'max-width':'calc(100% - '+h+'px )'})}if(0<d.length){let u=l.wrapper.find('.isrc-cl-op'),c=u.outerWidth(),p=u.outerHeight(),h=c+5,m=p/2+-1*(d.outerHeight()/2);d.css({right:h,top:m,'max-width':'calc(100% - '+h+'px )'})}},inputBodyAnim:function(l,r){let d=this,c=d.wrapper.find('.isrc-boxH'),p=150,g=d.wrapper.find('.isrc-slide');'toggle'===l&&(d.overlayIsVisible?l='hide':l='show'),'show'===l&&(d.overlayIsVisible=!0,s('.isrc-boxH').fadeOut(p),c.fadeIn(p),'undefined'!=typeof r&&!1!==r&&d.el.focus(),g.addClass('slide-in').removeClass('isrc-slided-out slide-out'),setTimeout(function(){g.addClass('isrc-slided-in')},400)),'hide'===l&&(d.wrapper.find('.isrc-ajaxsearchform-container').removeClass('isrc-focused'),d.overlayIsVisible=!1,s('.isrc-boxH').fadeOut(p),g.removeClass('isrc-slided-in slide-in').addClass('slide-out'),setTimeout(function(){g.addClass('isrc-slided-out')},400))},reorderResult:function(l){let r=this,d=r.options.customOrder,u={},c=[];return d&&0<Object.keys(l.suggestions).length?(u.meanings=l.meanings,u.popular_searches=l.popular_searches,u.response_time=l.response_time,u.results=l.results,u.suggestions={},u.time=l.time,u.isMobile=l.isMobile,u.limits=l.limits,s.each(d,function(p){s.each(l.suggestions,function(g,h){p===g&&(u.suggestions[p]=h,-1!==c.includes(p)&&c.push(p))})}),r.totalTabs=c,u):l},onFocus:function(){let l=this,r=l.options.minChars,d=l.el.val().length;r<=d?(l.show(),l.visible=!0):(l.hideFade(),l.visible=!1)},checkAndSetTab:function(){let l=this,r=l.options,d=r.isTabbed,u=l.suggestions,c=Object.keys(u)[0],p=l.currentTab;d&&!1===p?c&&(l.currentTab=c):d&&!1!==p&&'undefined'==typeof u[p]&&(l.currentTab=c)},setOptions:function(l){let r=this,d=r.options;s.extend(d,l),r.isLocal=s.isArray(d.lookup),r.isLocal&&(d.lookup=r.verifySuggestionsFormat(d.lookup)),d.orientation=r.validateOrientation(d.orientation,'bottom'),s(r.suggestionsContainer).css({'max-height':d.maxHeight+'px',width:d.width+'px','z-index':d.zIndex})},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue='',this.suggestions={},this.meanings=[],this.popularSearches=[]},selectFirst:function(){if(!1===this.options.autoSelectFirst||'normal'!==this.ajaxingType)return!1;let l=this,r=s(l.suggestionsContainer),d=l.currentTab,u=r.find('.isrc_autocomplete-suggestion[data-typekey=\''+d+'\']').first(),c=u.data('index');l.activate(c),l.selectedIndex=c},restoreIndexPostition:function(){if(!1===this.options.autoSelectFirst)return!1;let l=this,r=l.lastIndexes,d=l.currentTab;'undefined'==typeof r[d]?l.selectFirst():l.activate(r[d])},disable:function(){let l=this;l.disabled=!0,l.currentRequest&&l.currentRequest.abort()},enable:function(){this.disabled=!1},getOrientation:function(){let l=this,r=s(l.suggestionsContainer);if(l.options.isPreview)return'bottom';let d=l.options.orientation,u=r.outerHeight(),c=l.el.outerHeight(),p=l.el.offset();if('auto'===d){let g=s(window).height(),h=s(window).scrollTop(),m=-h+p.top-u,f=h+g-(p.top+c+u);d=Math.max(m,f)===m?'top':'bottom'}return d},fixPosition:function(){let l=this,r=s(l.suggestionsContainer),d=r.parent().get(0);if(d===document.body||l.options.forceFixPosition){let u=l.getOrientation(),c=l.calcHeight(u);r.css('max-height',c);let p=r.outerHeight(),g=l.options,h=g.suggestionsWidth,m='auto'===h?g.appendTo:l.el,f=l.wrapper.find('.isrc_delete_btn '),y=m,b=parseInt(g.offsetTop?g.offsetTop:0),v='auto'===h?y.outerHeight():y.outerHeight()+1,C=y.offset(),x={top:C.top,left:C.left},w=l.options.maxHeight,_=s.isNumeric(w);if(x.top+='top'===u?-p-b:v+b,d!==document.body){let S,k=r.css('opacity');l.visible||r.addClass('isrc-opc-1').show(),S=r.offsetParent().offset(),x.top-=S.top,x.top+=d.scrollTop,x.left-=S.left,l.visible||r.removeClass('isrc-opc-1').hide()}'auto'===l.options.width&&(f&&'input'===h?x.width=y.outerWidth()+f.outerWidth()+'px':x.width=y.outerWidth()+'px'),'bottom'===u?x.top--:x.top++,x.maxHeight=_?c+'px':c+'px',r.css(x)}},calcHeight:function(){let l=this.options.maxHeight;if('calculate'!==l)return l;let r=this,d=r.getOrientation(),u=r.options.appendTo,c=0,p=r.options.isPreview,g=r.el;if(p)return 500;if('bottom'===d){let h=s(window).height(),m=s(window).scrollTop(),f=g.offset().top,y=g.outerHeight();c=h+m-f-y-25}else if('top'===d){let h=u.offset(),m=h.top-s(window).scrollTop();c=m-40}return c=Math.round(c),350>c?350:c},validateOrientation:function(l,r){return l=s.trim(l||'').toLowerCase(),-1===s.inArray(l,['auto','bottom','top'])&&(l=r),l},enableKillerFn:function(){let l=this,r='.isrc_sc_'+l.options.shortcodeID;s('body').on('click.autocomplete',function(d){s(d.target).closest(r).length||s(d.target).closest('.meanings-wrap').length||s(d.target).hasClass('sclick')||(l.killSuggestions(),0===s(d.target).closest('.isrc-closest').find('.isrc-ajaxsearchform-container.inp-opn-st-body').length&&l.inputBodyAnim('hide'),l.wrapper.find('.isrc-ajaxsearchform-container').removeClass('isrc-focused'))}),l.options.overlayClickOutsideClose&&0<l.wrapper.find('.isrc-boxH').length&&l.wrapper.on('click.autocomplete','.isrc-boxH',function(){event.target===this&&(l.killSuggestions(),l.inputBodyAnim('hide'),l.wrapper.find('input.isrc-s').val('').trigger('change'))})},killSuggestions:function(){let l=this;l.stopKillSuggestions(),l.intervalId=window.setInterval(function(){l.hideFade(),l.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){let u,l=this,r=l.el.val().length,d=l.element.selectionStart;return'number'==typeof d?d===r:!document.selection||(u=document.selection.createRange(),u.moveStart('character',-r),r===u.text.length)},onKeyPress:function(l){let r=this;if(!r.disabled&&!r.visible&&l.which===a.DOWN&&r.currentValue)return void r.suggest();if(!r.disabled&&r.visible){switch(l.which){case a.ESC:r.el.val(r.currentValue),r.el.blur(),r.hideFade();break;case a.RIGHT:if(r.hint&&r.options.onHint&&r.isCursorAtEnd()){r.selectHint();break}return;case a.TAB:if(r.hint&&r.options.onHint)return void r.selectHint();case a.RETURN:return'meanings'===this.sugormean?(l.stopImmediatePropagation(),void l.preventDefault()):'popular'===this.sugormean?(l.stopImmediatePropagation(),void l.preventDefault()):-1!==r.selectedIndex||void r.hideFade();break;case a.UP:r.moveUp();break;case a.DOWN:r.moveDown();break;default:return;}l.stopImmediatePropagation(),l.preventDefault()}},onKeyUp:function(l){let r=this;if(!r.disabled){switch(l.which){case a.UP:case a.DOWN:return;}clearInterval(r.onChangeInterval),0<r.el.val().length?r.wrapper.find('.isrc-ajaxsearchform-container').addClass('isrc-haveinp'):r.wrapper.find('.isrc-ajaxsearchform-container').removeClass('isrc-haveinp'),r.currentValue!==r.el.val()&&(0<r.options.deferRequestBy?r.onChangeInterval=setInterval(function(){r.onValueChange()},r.options.deferRequestBy):r.onValueChange())}},onValueChange:function(){let c,l=this,r=l.options,d=l.el.val(),u=l.getQuery(d);return l.selection&&(l.selection=null,(r.onInvalidateSelection||s.noop).call(l.element)),clearInterval(l.onChangeInterval),l.currentValue=d,l.selectedIndex=-1,r.triggerSelectOnValidInput&&(c=l.findSuggestionIndex(u),-1!==c)?void l.select(c):void(1>u.length?l.showHideClearBtn('hide'):l.showHideClearBtn('show'),u.length<r.minChars?l.hideFade():l.getSuggestions(u))},showHideClearBtn:function(l){let r=this;'hide'===l?r.el.next('.isrc_delete_btn').removeClass('isrc-visible'):r.el.next('.isrc_delete_btn').addClass('isrc-visible')},findSuggestionIndex:function(l){let r=this,d=-1,u=l.toLowerCase();return s.each(r.suggestions,function(c,p){if(p.value.toLowerCase()===u)return d=c,!1}),d},getQuery:function(l){let d,r=this.options.delimiter;return r?(d=l.split(r),s.trim(d[d.length-1])):l},getSuggestionsLocal:function(l){let g,r=this,d=r.options,u=l.toLowerCase(),c=d.lookupFilter,p=parseInt(d.lookupLimit,10);return g={suggestions:s.grep(d.lookup,function(h){return c(h,l,u)})},p&&g.suggestions.length>p&&(g.suggestions=g.suggestions.slice(0,p)),g},loadmoreSpinner:function(l){let r=this,d=s(r.suggestionsContainer);'show'===l?(d.find('.load-more-label').addClass('isrc_hide'),d.find('.loadmore-spinner').removeClass('isrc_hide')):'hide'==l&&(d.find('.load-more-label').removeClass('isrc_hide'),d.find('.loadmore-spinner').addClass('isrc_hide'))},getContinuousSuggestions:function(l){if(this.isAjaxingMore)return!1;this.isAjaxingMore=!0;let r=this,d=r.options,u=d.serviceUrl,c=r.currentValue,p=r.suggestions[l],g=d.params,h={},m=[];s.each(p,function(y,b){m.push(b.id)}),h={not_in:m.join(','),search_in:l,searchtype:'loadmore',action:g.action,locale:d.locale,instance:d.shortcodeID,limit:g.limit,order_by:g.order_by,logging:!1,log_popularity:!1,hash:g.hash,query:g.query},r.loadmoreSpinner('show'),s.ajax({url:u,data:h,type:d.type,dataType:d.dataType}).done(function(y){r.isAjaxingMore=!1,r.ajaxingType='loadmore';let b=y.suggestions[l],v=y.limits,C=r.suggestions[l];r.limits[l]='undefined'==typeof v[l]?0:v[l],s.each(b,function(x,w){r.suggestions[l].push(w)}),r.suggest(),r.loadmoreSpinner('hide')}).fail(function(y,b,v){d.onSearchError.call(r.element,c,y,b,v)})},getSuggestions:function(l){let r,p,g,d=this,u=d.options,c=u.serviceUrl;if(u.params[u.paramName]=l,p=u.ignoreParams?null:u.params,d.isLocal?r=d.getSuggestionsLocal(l):(s.isFunction(c)&&(c=c.call(d.element,l)),g=c+'?'+s.param(p||{}),r=d.cachedResponse[g]),r&&'object'==typeof r.suggestions&&null!==r.suggestions)d.suggestions=r.suggestions,d.meanings=r.meanings,d.popularSearches=r.popular_searches,d.limits=r.limits,d.suggest();else if(!d.isBadQuery(l)){if(d.onSearchStart())return;d.currentRequest&&d.currentRequest.abort(),p.caret=d.getCaretPosition(),d.currentRequest=s.ajax({url:c,data:p,type:u.type,dataType:u.dataType}).done(function(h){d.ajaxingType='normal';let m;d.currentRequest=null,m=d.transformResult(h),m=d.reorderResult(m),d.processResponse(m,l,g),d.onSearchComplete(),d.fixPositionCapture()}).fail(function(h,m,f){u.onSearchError.call(d.element,l,h,m,f)})}},onSearchStart:function(){let l=this;l.showHidePreloader('show')},onSearchComplete:function(){let l=this;l.showHidePreloader('hide')},showHidePreloader:function(l){let r=this,d=r.options,u=r.el.next('.isrc_delete_btn');'show'===l?(u.addClass('ispreload'),u.css({'-webkit-mask-image':'url('+d.loader_icon+')'})):'hide'===l?(u.removeClass('ispreload'),u.css({'-webkit-mask-image':'url('+d.close_icon+')'})):'toggle'==l&&(u.addClass('ispreload'),u.css({'-webkit-mask-image':'url('+d.loader_icon+')'}),'hidden'===u.css('visibility')?u.css('visibility','visible'):u.css('visibility','hidden'))},sendMeaning:function(l){let r,d=this,u=d.options,c=u.serviceUrl,p={},g=u.sendMeanings,h=u.sendPopularity;(p.action='isrc_ajax_flowpopular','object'==typeof l&&(r=l,l=l.value),g||h)&&('undefined'!=typeof r&&h&&(p.title=r.value,p.selection_id=r.id,p.type=r.type,p.ptn=r.ptn),''!==this.lastNotFoundValue&&g?(p.lastNotFoundValue=this.lastNotFoundValue,p.current_src=this.currentValue,p.clicked=l,this.lastNotFoundValue=''):this.lastNotFoundValue='','undefined'==typeof p.lastNotFoundValue&&'undefined'==typeof p.selection_id||(p.logging=g,p.caret=d.getCaretPosition(),p.log_popularity=h,p.locale=d.options.locale,p.instance=d.options.shortcodeID,p.hash=isrc_params.hashvar,s.ajax({url:c,data:p,type:u.type,dataType:u.dataType}).done(function(){}).fail(function(){})))},isBadQuery:function(l){if(!this.options.preventBadQueries)return!1;let r=this.badQueries,d=r.length;for(;d--;)if(0===l.indexOf(r[d]))return!0;return!1},suggest:function(){let l=this,r=s(l.suggestionsContainer),d=l.meanings,u=l.popularSearches,c=l.suggestions,p=l.options.popularEnabled,g=l.options.diduMeanEnabled,h=Object.keys(c).length;if(r.removeClass('ispopularsrc'),r.removeClass('ismeaningsrc'),r.removeClass('noresults'),0<d.length&&0===h&&g)return r.addClass('ismeaningsrc'),l.sugormean='meanings',l.lastNotFoundValue=this.currentValue,void l.showMeanings();if(0<u.length&&0===h&&p)return r.addClass('ispopularsrc'),l.sugormean='popular',l.lastNotFoundValue=this.currentValue,void l.showPopulars();if(l.sugormean='noresults',0===h)return r.addClass('noresults'),l.lastNotFoundValue=l.currentValue,void l.noSuggestions();l.sugormean='suggestions';let v,m=l.options,f=l.getQuery(l.currentValue),y=s(l.suggestionsContainer),b='';if(m.triggerSelectOnValidInput&&(v=l.findSuggestionIndex(f),-1!==v))return void l.select(v);if(s.isFunction(m.htmlBodyRender)&&(l.checkAndSetTab(),b=m.htmlBodyRender(l)),this.adjustContainerWidth(),y.html(b),y.removeClass('havedatail'),m.autoSelectFirst&&!l.isMobile&&l.selectFirst(),l.show(),l.visible=!0,l.rebuildScrollPosition(),l.rebindEvents(),m.isTabbed&&!1===l.currentTab){let C=s('.suggestion-tabs').find('.tab-result.selected').data('tabid');C&&(l.currentTab=C)}'normal'===l.ajaxingType&&(l.lastIndexes={},l.lastIndexes2={}),m.autoSelectFirst&&!l.isMobile&&l.selectFirst(),(!1===l.selectedtypekey||-1===l.totalTabs.indexOf(l.selectedtypekey))&&(l.selectedtypekey=l.totalTabs[0]),l.setHiddenPostType(),l.options.onSuggest(l)},show:function(){let l=this,r=s(l.suggestionsContainer);return r.removeClass('isrc-opc-1'),l.visible?void r.show():void(r.removeClass('isrc-opc-1').hide(),l.options.onShow(l),r.fadeIn(150,function(){l.visible=!0}))},hideFade:function(){let l=this,r=s(l.suggestionsContainer);return l.visible?void r.fadeOut(150,function(){l.visible=!1,l.selectedIndex=-1,l.signalHint(null)}):(r.hide(),l.selectedIndex=-1,void l.signalHint(null))},rebindEvents:function(){let l=this,r=s('.suggestions-wrap');r.off('scroll'),r.on('scroll',function(){l.scrollEvents()})},scrollEvents:function(){this.saveScrollPositions(),this.continousScroll()},continousScroll:function(){let l=this,r=s(l.suggestionsContainer),d=l.options.autoLoadMore&&l.options.loadMoreBtn,u=r.find('.isrcviewall:visible:first');if(d&&u.isrc_isInViewport()){let c=r.find('.isrcviewall:visible:first').data('typekey');c&&l.getContinuousSuggestions(c)}},saveScrollPositions:function(){let l=this,r=s(l.suggestionsContainer),d=l.options.isTabbed,u=l.currentTab,c=r.find('.suggestions-wrap').scrollTop();d&&!1!==u&&(l.scrollPositions[u]=c),l.scrollPositions.main=c},rebuildScrollPosition:function(){let l=this,r=s(l.suggestionsContainer),d=l.options.isTabbed,u=l.scrollPositions,c=l.currentTab,p=0;p=d&&!1!==c?u[c]:u.main,'undefined'==typeof p&&(p=0),r.find('.suggestions-wrap').scrollTop(p)},noSuggestions:function(){let l=this,r=s(l.suggestionsContainer),d=l.options.noResultsEnabled,u='';return d?void(u+='<div class="autocomplete-no-suggestion">'+l.options.noSuggestionNotice+'</div>',l.adjustContainerWidth(),r.html(u),l.show()):(this.adjustContainerWidth(),r.html(''),l.hideFade(),l.visible=!1,!1)},showMeanings:function(){let l=this,r=s(l.suggestionsContainer),d=l.options.diduMeanLabel,u='',c=l.options.suggestionClass,p=l.meanings;u+='<div class="meanings-wrap">',s.each(p,function(g,h){u+='<div class="'+c+' autocomplete-meaning meaning didumean" data-index="'+g+'">',u+='<span class="didumean_label">'+d+': </span>',u+='<span class="didumean_txt">'+h.value+'</span>',u+='</div>'}),u+='</div>',this.adjustContainerWidth(),r.html(u),l.show()},showPopulars:function(){let l=this,r=s(l.suggestionsContainer),d=l.options.popularLabel,u='',c=l.options.suggestionClass,p=l.popularSearches,g=l.options.popularEnabled;return g?void(u+='<div class="isrc_meaningheader"><span class="didumean_label">'+d+': </span></div>',u+='<div class="meanings-wrap">',s.each(p,function(h,m){u+='<div class="'+c+' autocomplete-meaning meaning" data-index="'+h+'">',u+='<span class="diduMeanLabel">- '+m.value+'</span>',u+='</div>'}),u+='</div>',this.adjustContainerWidth(),r.html(u),l.show()):(this.adjustContainerWidth(),r.html(''),l.hideFade(),l.visible=!1,!1)},adjustContainerWidth:function(){let h,l=this,r=l.options,d=l.options.template,u=l.options.isTabbed,c=r.suggestionsWidth,p='auto'===c?l.options.appendTo:l.el,g=l.wrapper.find('.isrc_delete_btn '),m=s(l.suggestionsContainer);m.addClass('isrc_'+d),m.addClass('isrc_cont_sc_'+r.shortcodeID),u&&m.addClass('isrc_tabbed'),l.isMobile&&m.addClass('isMobile'),'auto'===r.width&&(h=g&&'input'===c?p.outerWidth()+g.outerWidth()-2:p.outerWidth()-2,m.width(0<h?h:300),300>h&&m.addClass('under_300'),500>h&&300<h&&m.addClass('under_500'),700>h&&500<h&&m.addClass('under_700'))},signalHint:function(l){let r='',d=this;l&&(r=d.currentValue+l.value.substr(d.currentValue.length)),d.hintValue!==r&&(d.hintValue=r,d.hint=l,(this.options.onHint||s.noop)(r))},verifySuggestionsFormat:function(l){return l},processResponse:function(l,r,d){let u=this,c=u.options;l.suggestions=u.verifySuggestionsFormat(l.suggestions),c.noCache||(u.cachedResponse[d]=l,c.preventBadQueries&&0===l.suggestions.length&&u.badQueries.push(r));r!==u.getQuery(u.currentValue)||(u.suggestions=l.suggestions,u.meanings=l.meanings,u.popularSearches=l.popular_searches,u.limits=l.limits,u.isMobile='yes'===l.isMobile,u.isMobile&&(u.options.template='clean'),u.suggest())},activate:function(l){let d,r=this,u=r.classes.selected,c=s(r.suggestionsContainer),p=r.options.suggestionClass;return(d=c.find('.'+p+'[data-index=\''+l+'\']'),!(1>d.length))&&(c.find('.detail-selector').removeClass('detail-selector'),c.find('.'+u).removeClass(u),r.selectedIndex=l,r.selectedIndex2=d.data('index2'),r.selectedtypekey=d.data('typekey'),r.lastIndexes[r.selectedtypekey]=r.selectedIndex,r.lastIndexes2[r.selectedtypekey]=r.selectedIndex2,s(d).addClass(u),r.options.onActivate(r),r.setHiddenPostType(),d)},setHiddenPostType:function(){let l=this,r=l.selectedtypekey,d=s(l.suggestionsContainer),u=l.extractPostType(r),c=d.closest('.isrc-ajaxsearchform-container').find('.isrc_form_post_type');return!1!==u&&!1},extractPostType:function(l){if('undefined'==typeof l)return!1;let r=l.substring(0,3),d=l.substring(3,99),u={post_type:d};return'tx_'===r?u.type='taxonomy':'pt_'===r&&(u.type='post_type'),u},selectHint:function(){let l=this,r=s.inArray(l.hint,l.suggestions);l.select(r)},select:function(l){let r=this;r.onSelect(l)},moveUp:function(){let l=this;'suggestions'===l.sugormean&&l.adjustScrollSuggestions('up')},moveDown:function(){let l=this;l.adjustScrollSuggestions('down')},adjustScrollSuggestions:function(l){let r=this,d=r.selectedIndex,u=r.selectedtypekey,c='down'===l?d+1:d-1,p=r.activate(c);if(p){r.options.isTabbed&&u!==r.selectedtypekey&&s('.suggestion-tabs').find('div[data-tabid="'+r.selectedtypekey+'"]').click();let g=s(r.suggestionsContainer),h=g.find('.suggestions-wrap'),m=h.height();h.isrc_scrollTo(p,0,{offset:-1*(m/2)})}},onSelect:function(l){let r=this,d=r.selectedIndex2,u=r.selectedtypekey,c=r.options.onSelect,p=r.options.isPreview;if('suggestions'===r.sugormean&&!p){let h=r.suggestions[u][d];this.sendMeaning(h)}if('meanings'===r.sugormean){let h=r.meanings[l];return r.currentValue=r.getValue(h.value),r.el.val(r.currentValue).focus(),r.onValueChange(),!1}if('popular'===r.sugormean){let h=r.popularSearches[l];return r.currentValue=r.getValue(h.value),r.el.val(r.currentValue).focus(),void r.onValueChange()}let h=r.suggestions[u][d];if(r.currentValue=r.getValue(h.value),r.currentValue===r.el.val()||p||r.el.val(r.currentValue),p)return'parentIFrame'in window&&window.parentIFrame.sendMessage('msg_01'),!1;r.hideFade(),r.signalHint(null);let g=r.suggestions[u][d];s.isFunction(c)?c.call(r.element,g):-1!==g.id&&(window.location.href=g.url)},getCaretPosition:function(){let l=this,r=l.el[0];if(document.selection){r.focus();let d=document.selection.createRange(),u=d.text.length;d.moveStart('character',-r.value.length);let c=d.text.length-u;return c+u===r.value.length}return r.selectionStart||'0'===r.selectionStart?r.selectionEnd===l.el.val().length:!0},getValue:function(l){let u,c,r=this,d=r.options.delimiter;return d?(u=r.currentValue,c=u.split(d),1===c.length?l:u.substr(0,u.length-c[c.length-1].length)+l):l},dispose:function(){let l=this;l.el.off('.autocomplete').removeData('autocomplete'),s(window).off('resize.autocomplete',l.fixPositionCapture),s(l.suggestionsContainer).remove()}},s.fn.isrcautocomplete=function(l,r){var d='autocomplete';return 0===arguments.length?this.first().data(d):this.each(function(){let u=s(this),c=u.data(d);'string'==typeof l?c&&'function'==typeof c[l]&&c[l](r):(c&&c.dispose&&c.dispose(),c=new o(this,l),u.data(d,c))})},s.fn.isrc_isInViewport=function(){if(1>s(this).length)return!1;let l=s(this).position().top+s(this).outerHeight()-10,r=s(this).closest('.isrc_autocomplete-suggestions').outerHeight();return l<=r}}),function(s){'use strict';'function'==typeof define&&define.amd?define(['jquery'],s):'undefined'!=typeof module&&module.exports?module.exports=s(require('jquery')):s(jQuery)}(function(s){'use strict';function o(l){return!l.nodeName||-1!==s.inArray(l.nodeName.toLowerCase(),['iframe','#document','html','body'])}function n(l){return s.isFunction(l)||s.isPlainObject(l)?l:{top:l,left:l}}let a=s.isrc_scrollTo=function(l,r,d){return s(window).isrc_scrollTo(l,r,d)};return a.defaults={axis:'xy',duration:0,limit:!0},s.fn.isrc_scrollTo=function(l,r,d){d=s.extend({},a.defaults,d),r=r||d.duration;let u;return d.offset=n(d.offset),d.over=n(d.over),this.each(function(){function c(v){let C=s.extend({},d,{queue:!0,duration:r,complete:v&&function(){v.call(g,m,d)}});h.animate(f,C)}if(null!==l){let y,p=o(this),g=p?this.contentWindow||window:this,h=s(g),m=l,f={};switch(typeof m){case'number':case'string':if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(m)){m=n(m);break}m=p?s(m):s(m,g);case'object':if(0===m.length)return;(m.is||m.style)&&(y=(m=s(m)).offset());}let b=s.isFunction(d.offset)&&d.offset(g,m)||d.offset;s.each(d.axis.split(''),function(v,C){let x='x'===C?'Left':'Top',w=x.toLowerCase(),_='scroll'+x,k=h[_](),S=a.max(g,C);if(y)f[_]=y[w]+(p?0:k-h.offset()[w]),d.margin&&(f[_]-=parseInt(m.css('margin'+x),10)||0,f[_]-=parseInt(m.css('border'+x+'Width'),10)||0),f[_]+=b[w]||0,d.over[w]&&(f[_]+=m['x'===C?'width':'height']()*d.over[w]);else{let T=m[w];f[_]=T.slice&&'%'===T.slice(-1)?parseFloat(T)/100*S:T}d.limit&&/^\d+$/.test(f[_])&&(f[_]=0>=f[_]?0:Math.min(f[_],S)),!v&&1<d.axis.length&&(k===f[_]?f={}:u&&(c(d.onAfterFirst),f={}))}),c(d.onAfter)}})},a.max=function(l,r){let d='x'===r?'Width':'Height',u='scroll'+d;if(!o(l))return l[u]-s(l)[d.toLowerCase()]();let c='client'+d,p=l.ownerDocument||l.document,g=p.documentElement,h=p.body;return Math.max(g[u],h[u])-Math.min(g[c],h[c])},s.Tween.propHooks.scrollLeft=s.Tween.propHooks.isrc_scrollTop={get:function(l){return s(l.elem)[l.prop]()},set:function(l){var r=this.get(l);if(l.options.interrupt&&l._last&&l._last!==r)return s(l.elem).stop();var d=Math.round(l.now);r!==d&&(s(l.elem)[l.prop](d),l._last=this.get(l))}},a});